<div class="product-section">
  <div class="container">
    <header class="section-header">
      <h2 class="section-title">Our Products</h2>
      <p class="section-subtitle">Explore our collection of premium items</p>
    </header>
    
    <!-- Filter controls -->
    <div class="filter-controls">
      <div class="search-wrapper">
        <i class="bi bi-search search-icon"></i>
        <input type="text" placeholder="Search products..." class="search-input" (input)="onSearch($event)">
      </div>
      
      <div class="filter-wrapper">
        <select class="category-select" (change)="onFilterCategory($event)">
          <option value="">All Categories</option>
          <option value="electronics">Electronics</option>
          <option value="clothing">Clothing</option>
          <option value="books">Books</option>
          <option value="home">Home & Kitchen</option>
          <option value="beauty">Beauty & Personal Care</option>
          <option value="other">Other</option>
        </select>
        
        <button class="clear-button" (click)="clearFilters()">
          <i class="bi bi-x-circle"></i> Clear Filters
        </button>
      </div>
    </div>
    
    <!-- Loading state -->
    <div *ngIf="loading$ | async" class="loading-container">
      <div class="spinner"></div>
      <p class="loading-text">Loading products...</p>
    </div>
    
    <!-- Error state -->
    <div *ngIf="error$ | async as error" class="error-message">
      <i class="bi bi-exclamation-triangle-fill"></i>
      <div>{{ error.message }}</div>
    </div>
    
    <!-- Product grid -->
    <div class="product-grid">
      <div *ngFor="let product of products$ | async" class="product-item">
        <div class="product-card">
          <div class="product-image">
            <img [src]="product.image" [alt]="product.title" loading="lazy">
          </div>
          <div class="product-body">
            <h5 class="product-title">{{ product.title }}</h5>
            <div class="product-rating">
              <i class="bi bi-star-fill"></i>
              <span>{{ product.rate || 0 }} ({{ product.count || 0 }} reviews)</span>
            </div>
            <p class="product-description">{{ product.description }}</p>
            <div class="product-category">
              <span class="category-tag">{{ product.category }}</span>
            </div>
          </div>
          <div class="product-footer">
            <div class="product-price">${{ product.price | number:'1.2-2' }}</div>
            <div class="product-actions">
              <button class="delete-button" (click)="deleteProduct(product.id)">
                <i class="bi bi-trash"></i> Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- No products state -->
    <div *ngIf="(products$ | async)?.length === 0 && !(loading$ | async) && !(error$ | async)" 
         class="no-products">
      <i class="bi bi-inbox"></i>
      <p>No products found</p>
    </div>
  </div>
</div>